<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Formulario crear plato</title>
  <link rel="stylesheet" href="/stylesheets/style.css" />
  <link rel="stylesheet" href="/stylesheets/formularios.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
</head>

<body>
  <!--Menú de navegación que incluya el login de los chefs. El login lo vinculo a la ruta get que lleva a la vista del formulario.-->
  <div class="container-fluid">
    <nav class="margenes navbar navbar-expand-lg navbar-light bg-mio">
      <a class="navbar-brand" href="/home">Estrellados</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="margen-down navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item active">
                  <a class="nav-link" href="/home">Home</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/chefs">Estrellas</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/dishes">Platos</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/chefs/createChef">Regístrate</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/dishes/newDish">Nuevo Plato</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="/home/login">Login</a>
              </li>
          </ul>
      </div>
  </nav>
    <div class="titulo-seccion img-titulo-plato">
      <h1>Añade tu plato</h1>
    </div>
    <!--FORMULARIO CREAR PLATOS
        COMO LA FOREIGN KEY ESTÁ EN LA TABLA PLATOS HAY QUE VINCULARLA AL ID DEL CHEF
        Crear un formulario para que cada chef añada sus platos. Lo hago en la propia vista del chef porque desde esta vista es más sencillo pasar el id del chef a la ruta porque ya está interpolado. En el form action vinculo el formulario con la ruta para guardar cada plato interpolando el id del chef como parámetro dinámico.
        Cuando el chef le da al botón guardar plato se va a la ruta post que guarda un plato. El id del chef es el elemento que vincula las dos tablas.-->
    <div class="container">
      <form id="contacto" action="/dishes/createDish" method="post" enctype="multipart/form-data">
        <fieldset>
          <input name="name_dish" id="name_dish" placeholder="Nombre del plato" type="text" tabindex="1" required>
        </fieldset>
        <fieldset>
          <textarea name="description_dish" id="description_dish" placeholder="Descripción del plato" tabindex="2"
            maxlength="255"></textarea>
        </fieldset>
        <fieldset>
          <input name="image_dish" tabindex="3" type="file" required />
        </fieldset>

        <fieldset>
          <select name="chef_id" tabindex="4" required>
            <% resultadoChefs.forEach(chef=> { %>
              <option value="<%- chef.chef_id %>">
                <%- chef.name_chef %>
                  <%- chef.surname %>
              </option>
              <% }) %>
          </select>
        </fieldset>

        <fieldset>
          <button name="submit" type="submit" id="contacto-submit" data-submit="...Sending">Guardar plato</button>
        </fieldset>
      </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"></script>
</body>

</html>